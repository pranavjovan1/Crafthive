<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CraftHive</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Press Start 2P',cursive;
  background:url('https://i.postimg.cc/RNDz8BC1/minecraft-bg.jpg') no-repeat center center/cover;
  height:100vh;color:#00ff00;overflow:hidden;
  display:flex;align-items:center;justify-content:center;text-align:center;
}
.wrap{
  background:rgba(0,0,0,0.45);
  padding:30px;border-radius:12px;
  box-shadow:0 0 30px rgba(0,255,128,0.15);
}
h1{
  font-size:22px;
  text-shadow:0 0 8px #000;
  margin-bottom:8px;
}
p{
  font-size:11px;
  margin-bottom:18px;
  color:#ddd;
}
button.main{
  padding:10px 22px;
  border:2px solid #00ff00;
  background:#000;
  color:#00ff00;
  cursor:pointer;
  font-family:'Press Start 2P',cursive;
  transition:all .12s;
}
button.main:hover{
  background:#00ff00;
  color:#000;
  transform:scale(1.04);
}
.modal{
  position:fixed;
  left:50%;top:50%;
  transform:translate(-50%,-50%) scale(.9);
  background:rgba(0,0,0,.98);
  border:3px solid #00ff00;
  padding:20px;border-radius:12px;
  width:92%;max-width:380px;
  color:#fff;opacity:0;
  pointer-events:none;
  box-shadow:0 0 30px #00ff00;
  transition:all .28s ease;
}
.modal.show{
  opacity:1;
  transform:translate(-50%,-50%) scale(1);
  pointer-events:auto;
}
.closeX{
  position:absolute;
  right:12px;top:8px;
  cursor:pointer;
  color:#00ff00;
  font-size:20px;
}
.tabs{
  display:flex;
  gap:6px;
  margin-bottom:12px;
}
.tab{
  flex:1;
  padding:8px;
  background:#111;
  border:2px solid #00ff00;
  color:#00ff00;
  font-size:11px;
  cursor:pointer;
}
.tab.active{
  background:#00ff00;
  color:#000;
}
form{
  display:none;
  flex-direction:column;
  gap:8px;
  align-items:center;
}
form.active{
  display:flex;
}
input{
  width:88%;
  padding:8px;
  border:2px solid #00ff00;
  background:#000;
  color:#00ff00;
  font-family:'Press Start 2P',cursive;
  font-size:11px;
}
</style>
</head>
<body>
<div class="wrap">
  <h1>CRAFT HIVE</h1>
  <p>Welcome to the world of blocks, adventure, and creativity!</p>
  <button id="startBtn" class="main">GET STARTED</button>
</div>

<!-- Modal -->
<div id="auth" class="modal" aria-hidden="true">
  <div class="closeX" id="closeX">âœ–</div>
  <div style="margin-bottom:12px"><strong style="color:#00ff80">Welcome!</strong></div>

  <div class="tabs">
    <div id="tabSignIn" class="tab active">SIGN IN</div>
    <div id="tabSignUp" class="tab">SIGN UP</div>
  </div>

  <form id="formSignIn" class="active">
    <input id="si-username" placeholder="Username or Email" required />
    <input id="si-password" type="password" placeholder="Password" required />
    <button type="button" id="btnSignIn" class="main">SIGN IN</button>
  </form>

  <form id="formSignUp">
    <input id="su-username" placeholder="Username" required />
    <input id="su-password" type="password" placeholder="Password" required />
    <input id="su-email" type="email" placeholder="Email" required />
    <button type="button" id="btnSignUp" class="main">SIGN UP</button>
  </form>
</div>

<script>
const startBtn=document.getElementById('startBtn');
const auth=document.getElementById('auth');
const closeX=document.getElementById('closeX');
const tabSignIn=document.getElementById('tabSignIn');
const tabSignUp=document.getElementById('tabSignUp');
const formSignIn=document.getElementById('formSignIn');
const formSignUp=document.getElementById('formSignUp');
const btnSignIn=document.getElementById('btnSignIn');
const btnSignUp=document.getElementById('btnSignUp');
const wrap=document.querySelector('.wrap');

// tab switch
tabSignIn.onclick=()=>{
  tabSignIn.classList.add('active');
  tabSignUp.classList.remove('active');
  formSignIn.classList.add('active');
  formSignUp.classList.remove('active');
};
tabSignUp.onclick=()=>{
  tabSignUp.classList.add('active');
  tabSignIn.classList.remove('active');
  formSignUp.classList.add('active');
  formSignIn.classList.remove('active');
};

// open/close popup
startBtn.onclick=()=>auth.classList.add('show');
closeX.onclick=()=>auth.classList.remove('show');

// sign up logic
btnSignUp.onclick=()=>{
  const username=document.getElementById('su-username').value.trim();
  const password=document.getElementById('su-password').value.trim();
  const email=document.getElementById('su-email').value.trim();

  if(!username || !password || !email){
    alert("Please fill all fields!");
    return;
  }

  let users=JSON.parse(localStorage.getItem("users")||"[]");
  if(users.find(u=>u.username===username)){
    alert("Username already exists!");
    return;
  }

  users.push({username,password,email});
  localStorage.setItem("users",JSON.stringify(users));
  alert("Account created successfully!");
};

// sign in logic
btnSignIn.onclick=()=>{
  const username=document.getElementById('si-username').value.trim();
  const password=document.getElementById('si-password').value.trim();

  let users=JSON.parse(localStorage.getItem("users")||"[]");
  const found=users.find(u=>u.username===username && u.password===password);

  if(found){
    localStorage.setItem("loggedInUser",found.username);
    showWelcome(found.username);
  } else {
    alert("Invalid username or password!");
  }
};

// check if already logged in
window.onload=()=>{
  const user=localStorage.getItem("loggedInUser");
  if(user){ showWelcome(user); }
};

// show welcome screen
function showWelcome(username){
  auth.classList.remove('show');
  wrap.innerHTML=`
    <h1>Welcome, ${username}!</h1>
    <p>You are now logged in to CraftHive.</p>
    <button id="logoutBtn" class="main">LOG OUT</button>
  `;
  document.getElementById('logoutBtn').onclick=logout;
}

// logout
function logout(){
  localStorage.removeItem("loggedInUser");
  location.reload();
}
</script>
</body>
</html>
